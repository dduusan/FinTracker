========================================================================
  FINTRACKER â€” LOG IMPLEMENTACIJE (Backend Faza 1-8 + Frontend Faza 1-7)
========================================================================

REDOSLED KREIRANJA I OBJAÅ NJENJA SVAKOG FAJLA:

========================================================================
1. STRUKTURA FOLDERA
========================================================================

backend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config/          â†’ Konfiguracija aplikacije (baza, env varijable, modeli)
â”‚   â”œâ”€â”€ middleware/       â†’ Middleware funkcije (error handling, auth u buduÄ‡nosti)
â”‚   â”œâ”€â”€ modules/          â†’ Poslovni moduli (svaki ima router, service, schemas)
â”‚   â”‚   â”œâ”€â”€ auth/         â†’ [Faza 3] Autentifikacija
â”‚   â”‚   â”œâ”€â”€ transactions/ â†’ CRUD za transakcije (prihodi/rashodi)
â”‚   â”‚   â”œâ”€â”€ categories/   â†’ [Faza 4] CRUD za kategorije transakcija
â”‚   â”‚   â”œâ”€â”€ budgets/      â†’ [Faza 4] BudÅ¾eti po kategorijama sa summary
â”‚   â”‚   â””â”€â”€ dashboard/    â†’ [Faza 5] Statistika, trendovi, izveÅ¡taji
â”‚   â””â”€â”€ utils/            â†’ PomoÄ‡ne funkcije (greÅ¡ke, logger)
â”œâ”€â”€ migrations/           â†’ Alembic migracije baze podataka
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ unit/             â†’ Unit testovi
â”‚   â””â”€â”€ integration/      â†’ Integracioni testovi
â””â”€â”€ frontend/             â†’ [Kasnije] React + Next.js

========================================================================
2. KONFIGURACIONI FAJLOVI (root)
========================================================================

requirements.txt
  â†’ Lista svih Python paketa koji se instaliraju sa "pip install -r requirements.txt"
  â†’ SadrÅ¾i: fastapi, uvicorn, sqlalchemy, asyncpg, alembic, pydantic, itd.

.env / .env.example
  â†’ Environment varijable (DATABASE_URL, APP_PORT, JWT_SECRET...)
  â†’ .env se NE COMMITUJE u git (u .gitignore je)
  â†’ .env.example sluÅ¾i kao template za druge developere

.gitignore
  â†’ Govori git-u koje fajlove da ignoriÅ¡e (.env, __pycache__, venv...)

========================================================================
3. src/config/ â€” KONFIGURACIJA
========================================================================

settings.py
  â†’ UÄitava environment varijable iz .env fajla koristeÄ‡i pydantic-settings
  â†’ Klasa Settings definiÅ¡e sve env varijable sa default vrednostima
  â†’ Exportuje "settings" objekat koji se koristi svuda u aplikaciji
  â†’ Primer: settings.DATABASE_URL, settings.APP_PORT

database.py
  â†’ Kreira SQLAlchemy async engine (konekcija ka PostgreSQL bazi)
  â†’ DefiniÅ¡e async_session â€” factory za kreiranje DB sesija
  â†’ Base klasa â€” svi SQLAlchemy modeli nasleÄ‘uju ovu klasu
  â†’ get_db() â€” FastAPI dependency koji daje DB sesiju po request-u
    (otvara sesiju na poÄetku requesta, zatvara na kraju)

models.py
  â†’ DefiniÅ¡e SVE tabele u bazi podataka kao Python klase:
    - User: korisnici (id, email, password, name, created_at)
    - Category: kategorije transakcija (id, user_id, name, type, icon)
    - Transaction: transakcije (id, user_id, category_id, amount, type, description, date)
    - Budget: budÅ¾eti po kategoriji i mesecu (id, user_id, category_id, amount, month)
  â†’ TransactionType enum: "income" ili "expense"
  â†’ relationship() definiÅ¡e veze izmeÄ‘u tabela (npr. User ima mnogo Transaction-a)

========================================================================
4. src/utils/ â€” POMOÄ†NE FUNKCIJE
========================================================================

errors.py
  â†’ Custom klase za greÅ¡ke koje aplikacija moÅ¾e baciti:
    - AppError: bazna klasa (message + status_code)
    - NotFoundError(404): resurs nije pronaÄ‘en
    - ValidationError(400): nevalidan input
    - AuthError(401): neautorizovan pristup
  â†’ Error handler u middleware-u hvata ove greÅ¡ke i vraÄ‡a JSON odgovor

logger.py
  â†’ KonfiguriÅ¡e Python logging sa formatiranim ispisom u konzolu
  â†’ U development modu loguje DEBUG nivo, inaÄe INFO
  â†’ Format: "2026-02-10 15:30:00 | INFO     | fintracker | poruka"
  â†’ Exportuje "logger" objekat koji se koristi svuda

========================================================================
5. src/modules/transactions/ â€” TRANSACTIONS MODUL
========================================================================

schemas.py (Pydantic Å¡eme â€” VALIDACIJA)
  â†’ DefiniÅ¡e oblik podataka koji ulaze i izlaze iz API-ja:
    - TransactionCreate: Å¡ta klijent Å¡alje kad pravi transakciju
      (amount > 0, type, category_id, description, date)
    - TransactionUpdate: Å¡ta klijent moÅ¾e da izmeni (sva polja opciona)
    - TransactionResponse: Å¡ta API vraÄ‡a klijentu
    - TransactionFilters: query parametri za filtriranje liste
      (type, category_id, date_from, date_to, page, per_page)
  â†’ Pydantic automatski validira podatke i vraÄ‡a greÅ¡ke ako su nevalidni

service.py (BIZNIS LOGIKA â€” sve DB operacije)
  â†’ Funkcije koje rade sa bazom podataka:
    - create_transaction(): kreira novu transakciju u bazi
    - get_transactions(): lista transakcija sa filterima i paginacijom
    - get_transaction_by_id(): jedna transakcija (baca NotFoundError ako ne postoji)
    - update_transaction(): menja polja transakcije (samo ona koja su poslata)
    - delete_transaction(): briÅ¡e transakciju iz baze
  â†’ Svaka funkcija prima db sesiju i user_id (za izolaciju po korisniku)

router.py (API ENDPOINTI â€” HTTP rute)
  â†’ DefiniÅ¡e URL putanje i povezuje ih sa service funkcijama:
    POST   /api/transactions/          â†’ kreiranje
    GET    /api/transactions/          â†’ lista (sa filtrima i paginacijom)
    GET    /api/transactions/{id}      â†’ jedna transakcija
    PUT    /api/transactions/{id}      â†’ izmena
    DELETE /api/transactions/{id}      â†’ brisanje
  â†’ Depends(get_current_user): izvlaÄi korisnika iz JWT tokena (Faza 3)
  â†’ Depends(get_db): FastAPI automatski otvara/zatvara DB sesiju

========================================================================
6. src/middleware/ â€” MIDDLEWARE
========================================================================

auth.py (FAZA 3 â€” JWT auth middleware)
  â†’ get_current_user(): FastAPI dependency koji:
    1. ÄŒita Authorization header (Bearer <token>)
    2. Dekodira JWT token i izvlaÄi user_id
    3. UÄitava korisnika iz baze
    4. VraÄ‡a User objekat koji se koristi u endpoint-ima
  â†’ Svaki zaÅ¡tiÄ‡eni endpoint dodaje: current_user: User = Depends(get_current_user)

error_handler.py
  â†’ Dva handler-a koje FastAPI poziva kad se desi greÅ¡ka:
    - app_error_handler: hvata naÅ¡e custom greÅ¡ke (AppError, NotFoundError...)
      i vraÄ‡a JSON sa odgovarajuÄ‡im status kodom
    - generic_error_handler: hvata sve ostale neoÄekivane greÅ¡ke
      i vraÄ‡a generiÄki 500 Internal Server Error
  â†’ Loguje svaku greÅ¡ku sa URL-om i metodom

========================================================================
7. src/modules/auth/ â€” AUTH MODUL (Faza 3)
========================================================================

schemas.py (Pydantic Å¡eme za auth)
  â†’ RegisterRequest: email (5-255 char), password (6-128 char), name (opciono)
  â†’ LoginRequest: email + password
  â†’ TokenResponse: access_token + refresh_token + token_type
  â†’ UserResponse: id, email, name (Å¡ta API vraÄ‡a o korisniku)

service.py (Auth biznis logika)
  â†’ Password:
    - hash_password(): heÅ¡ira lozinku sa bcrypt (nikad ne Äuvamo plaintext!)
    - verify_password(): poredi plaintext sa heÅ¡om
  â†’ JWT tokeni:
    - create_access_token(): kratak token (30 min) za pristup API-ju
    - create_refresh_token(): dugaÄak token (7 dana) za obnovu access tokena
    - decode_token(): dekodira token, proverava tip i istek
  â†’ User operacije:
    - register_user(): kreira novog korisnika (proverava da email nije zauzet)
    - authenticate_user(): proverava email + password, vraÄ‡a usera
    - get_user_by_id(): uÄitava usera po ID-u

router.py (Auth API endpointi)
  â†’ POST /api/auth/register  â†’ registracija (vraÄ‡a UserResponse)
  â†’ POST /api/auth/login     â†’ login (vraÄ‡a access + refresh token)
  â†’ POST /api/auth/refresh   â†’ novi access token pomoÄ‡u refresh tokena
  â†’ GET  /api/auth/me        â†’ podaci o trenutnom korisniku (zahteva token)

========================================================================
8. seed.py â€” TEST PODACI
========================================================================

  â†’ Skripta koja ubacuje test korisnika i kategorije u bazu:
    - User: test@test.com / test123
    - 6 kategorija: Plata, Freelance, Hrana, Transport, Stanarina, Zabava
  â†’ PokreÄ‡e se sa: python seed.py

========================================================================
9. src/app.py â€” ULAZNA TAÄŒKA APLIKACIJE
========================================================================

  â†’ Glavni fajl koji pokreÄ‡e FastAPI server
  â†’ lifespan(): izvrÅ¡ava se pri pokretanju (kreira tabele) i gaÅ¡enju servera
  â†’ Registruje error handler-e i router-e (auth, transactions, categories, budgets, dashboard)
  â†’ /api/health endpoint za proveru da li server radi
  â†’ PokreÄ‡e uvicorn sa auto-reload u development modu

========================================================================
10. src/modules/categories/ â€” CATEGORIES MODUL (Faza 4)
========================================================================

schemas.py (Pydantic Å¡eme za kategorije)
  â†’ CategoryCreate: name (1-100 char), type (income/expense), icon (opciono)
  â†’ CategoryUpdate: sva polja opciona
  â†’ CategoryResponse: id, name, type, icon

service.py (Categories biznis logika)
  â†’ create_category(): kreira kategoriju (proverava da ne postoji duplikat)
  â†’ get_categories(): lista kategorija sa opcionalnim filterom po tipu
  â†’ get_category_by_id(): jedna kategorija (baca NotFoundError)
  â†’ update_category(): menja polja kategorije
  â†’ delete_category(): briÅ¡e kategoriju
  â†’ Svaka funkcija izoluje podatke po user_id

router.py (Categories API endpointi)
  â†’ POST   /api/categories/          â†’ kreiranje nove kategorije
  â†’ GET    /api/categories/          â†’ lista (filter po type: income/expense)
  â†’ GET    /api/categories/{id}      â†’ jedna kategorija
  â†’ PUT    /api/categories/{id}      â†’ izmena
  â†’ DELETE /api/categories/{id}      â†’ brisanje
  â†’ Svi endpointi zahtevaju JWT token (get_current_user)

========================================================================
11. src/modules/budgets/ â€” BUDGETS MODUL (Faza 4)
========================================================================

schemas.py (Pydantic Å¡eme za budÅ¾ete)
  â†’ BudgetCreate: category_id, amount (>0), month (prvi dan meseca)
  â†’ BudgetUpdate: amount i month opcioni
  â†’ BudgetResponse: id, category_id, amount, month
  â†’ BudgetSummaryItem: category_name, budgeted, spent, remaining, month
  â†’ BudgetFilters: month, category_id (opcioni filteri)

service.py (Budgets biznis logika)
  â†’ create_budget(): kreira budÅ¾et (proverava kategoriju i duplikat)
  â†’ get_budgets(): lista budÅ¾eta sa filterima (mesec, kategorija)
  â†’ get_budget_by_id(): jedan budÅ¾et (baca NotFoundError)
  â†’ update_budget(): menja iznos ili mesec
  â†’ delete_budget(): briÅ¡e budÅ¾et
  â†’ get_budget_summary(): SPECIJALNA FUNKCIJA
    - Za dati mesec vraÄ‡a sve budÅ¾ete sa potrosenim iznosom
    - RaÄuna "spent" iz tabele Transaction (expense tip, isti mesec)
    - VraÄ‡a: budgeted, spent, remaining za svaku kategoriju

router.py (Budgets API endpointi)
  â†’ POST   /api/budgets/             â†’ kreiranje novog budÅ¾eta
  â†’ GET    /api/budgets/             â†’ lista (filter po month, category_id)
  â†’ GET    /api/budgets/summary?month=2026-02-01 â†’ pregled potroÅ¡nje
  â†’ GET    /api/budgets/{id}         â†’ jedan budÅ¾et
  â†’ PUT    /api/budgets/{id}         â†’ izmena
  â†’ DELETE /api/budgets/{id}         â†’ brisanje
  â†’ Svi endpointi zahtevaju JWT token

========================================================================
12. src/modules/dashboard/ â€” DASHBOARD MODUL (Faza 5)
========================================================================

schemas.py (Pydantic Å¡eme za statistiku)
  â†’ SummaryResponse: total_income, total_expense, balance, transaction_count
  â†’ MonthlyItem: month ("2026-02"), income, expense, balance
  â†’ MonthlyResponse: lista meseÄnih stavki + months_count
  â†’ CategorySpending: category_name, total, percentage, transaction_count
  â†’ ByCategoryResponse: lista kategorija + grand_total
  â†’ RecentTransaction: amount, type, description, date, category_name, icon

service.py (Dashboard biznis logika â€” AGREGACIONI UPITI)
  â†’ get_summary(): ukupni prihodi, rashodi i bilans za dati period
    - Koristi SQL CASE + SUM za jednu efikasnu pretragu
    - Opcioni filteri: date_from, date_to
  â†’ get_monthly_trends(): meseÄni trend za poslednjih N meseci
    - GROUP BY godina + mesec
    - VraÄ‡a income vs expense za svaki mesec
  â†’ get_by_category(): potroÅ¡nja/prihod po kategorijama
    - JOIN Transaction + Category
    - RaÄuna procenat svake kategorije od ukupnog iznosa
    - Sortirano po iznosu (najveÄ‡i prvi)
  â†’ get_recent_transactions(): poslednjih N transakcija
    - JOIN sa Category za ime i ikonu kategorije
    - Sortirano po datumu (najnovije prvo)

router.py (Dashboard API endpointi)
  â†’ GET /api/dashboard/summary?date_from=...&date_to=...
    â†’ ukupni prihodi, rashodi, bilans za period
  â†’ GET /api/dashboard/monthly?months=6
    â†’ meseÄni trend (default 6 meseci unazad)
  â†’ GET /api/dashboard/by-category?type=expense&date_from=...&date_to=...
    â†’ potroÅ¡nja po kategorijama sa procentima
  â†’ GET /api/dashboard/recent?limit=10
    â†’ poslednjih N transakcija sa kategorijom
  â†’ Svi endpointi zahtevaju JWT token

========================================================================
13. src/config/redis.py â€” REDIS KONEKCIJA (Faza 6)
========================================================================

  â†’ init_redis(): kreira async Redis klijent pri pokretanju aplikacije
  â†’ close_redis(): zatvara konekciju pri gaÅ¡enju
  â†’ get_redis(): vraÄ‡a Redis klijent (koristi se u cache i rate limiter)
  â†’ Koristi redis[hiredis] paket za optimalne performanse

========================================================================
14. src/utils/cache.py â€” REDIS CACHING (Faza 6)
========================================================================

  â†’ cache_get(key): Äita keÅ¡iranu vrednost (JSON deserijalizacija)
  â†’ cache_set(key, value, ttl): upisuje u keÅ¡ (default 5 min TTL)
  â†’ cache_delete(pattern): briÅ¡e kljuÄeve po patternu (wildcard *)
  â†’ invalidate_user_dashboard(user_id): briÅ¡e SVE dashboard keÅ¡ kljuÄeve
    za korisnika â€” poziva se kad se menjaju transakcije/budÅ¾eti/kategorije
  â†’ Prefiks "fintracker:" za sve kljuÄeve (izolacija od drugih aplikacija)

========================================================================
15. src/middleware/rate_limiter.py â€” RATE LIMITING (Faza 6)
========================================================================

  â†’ RateLimitMiddleware: Starlette middleware koji ograniÄava zahteve
  â†’ Dva profila:
    - auth rute: 10 zahteva/min (zaÅ¡tita od brute-force napada)
    - ostale rute: 60 zahteva/min
  â†’ Identifikuje klijenta po IP adresi
  â†’ Redis INCR + EXPIRE za atomiÄno brojanje zahteva
  â†’ Response headers: X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset
  â†’ HTTP 429 Too Many Requests sa Retry-After headerom
  â†’ Graceful degradation: ako Redis nije dostupan, propuÅ¡ta zahteve

========================================================================
16. CACHE INVALIDACIJA (Faza 6)
========================================================================

  â†’ Kad korisnik kreira/menja/briÅ¡e transakciju, budÅ¾et ili kategoriju,
    automatski se briÅ¡e dashboard keÅ¡ za tog korisnika
  â†’ AÅ¾urirani routeri: transactions, budgets, categories
  â†’ Dashboard endpointi: proveravaju keÅ¡ pre upita u bazu
    - Cache HIT â†’ odmah vraÄ‡a rezultat (bez DB upita)
    - Cache MISS â†’ upit u bazu, rezultat se kerÅ¡ira za 5 min

========================================================================
17. tests/ â€” TESTOVI (Faza 7)
========================================================================

  Tehnologija: pytest + pytest-asyncio + httpx + aiosqlite

  conftest.py (Test konfiguracija)
  â†’ SQLite in-memory baza (NE TREBA Docker za testove!)
  â†’ Mock Redis (testovi rade bez Redis servera)
  â†’ Fixture-i:
    - setup_database: kreira/briÅ¡e tabele pre/posle svakog testa
    - db: test DB sesija
    - client: httpx AsyncClient koji komunicira sa FastAPI app-om
    - test_user: kreira test korisnika (test@test.com / test123)
    - auth_headers: Authorization header sa validnim JWT tokenom
    - test_categories: 3 test kategorije (Plata, Hrana, Transport)

  test_auth.py (10 testova)
  â†’ Registracija: uspeÅ¡na, dupli email, nevalidan email, kratka Å¡ifra
  â†’ Login: uspeÅ¡an, pogreÅ¡na Å¡ifra, nepostojeÄ‡i korisnik
  â†’ Refresh: validan token, nevalidan token
  â†’ Me: sa tokenom, bez tokena

  test_transactions.py (8 testova)
  â†’ Create: uspeÅ¡no, bez auth-a, negativan iznos
  â†’ List: prazna lista, sa podacima, filter po tipu
  â†’ Get: po ID-u, nepostojeÄ‡i
  â†’ Update: izmena iznosa i opisa
  â†’ Delete: brisanje + provera da ne postoji

  test_categories.py (8 testova)
  â†’ Create: uspeÅ¡no, duplikat, bez auth-a
  â†’ List: sve, filter po tipu, prazna lista
  â†’ Get: po ID-u, nepostojeÄ‡i
  â†’ Update: izmena imena i ikone
  â†’ Delete: brisanje + provera

  test_budgets.py (8 testova)
  â†’ Create: uspeÅ¡no, duplikat (ista kategorija+mesec), nepostojeÄ‡a kategorija
  â†’ List: svi, filter po mesecu
  â†’ Summary: sa potroÅ¡njom (budgeted vs spent vs remaining), prazan mesec
  â†’ Update: izmena iznosa
  â†’ Delete: brisanje + provera

  test_dashboard.py (8 testova)
  â†’ Summary: prazan, sa podacima, sa date filterom, bez auth-a
  â†’ Monthly: meseÄni trend
  â†’ By-category: expense kategorije, income kategorije
  â†’ Recent: poslednjih N transakcija, prazna lista

  pytest.ini
  â†’ asyncio_mode = auto (automatski async testovi)
  â†’ testpaths = tests

========================================================================
18. Dockerfile â€” DOCKER IMAGE (Faza 8)
========================================================================

  â†’ Python 3.12-slim bazni image (mali footprint)
  â†’ Instalira requirements.txt
  â†’ Kopira source kod
  â†’ PokreÄ‡e uvicorn na portu 8000
  â†’ .dockerignore: iskljuÄuje venv/, tests/, __pycache__/, .env

========================================================================
19. docker-compose.yml â€” DOCKER COMPOSE (Faza 8)
========================================================================

  â†’ 3 servisa:
    - app: FastAPI aplikacija (build iz Dockerfile-a)
    - postgres: PostgreSQL 16
    - redis: Redis 7-alpine
  â†’ Healthcheck-ovi: app Äeka da postgres i redis budu healthy
  â†’ Environment: DATABASE_URL i REDIS_URL koriste Docker DNS (postgres, redis)
  â†’ JWT_SECRET se Äita iz environment varijable ili .env
  â†’ restart: unless-stopped za sve servise

========================================================================
20. .github/workflows/ci.yml â€” CI/CD (Faza 8)
========================================================================

  â†’ PokreÄ‡e se na push/PR ka main grani
  â†’ 3 posla (jobs):
    1. test: instalira dependencies, pokreÄ‡e pytest
    2. lint: proverava da se app importuje bez greÅ¡ke
    3. docker: build-uje Docker image (samo na main grani, nakon test+lint)
  â†’ Testovi koriste SQLite in-memory (ne trebaju Docker servise)

========================================================================
POKRETANJE:
========================================================================

  1. python -m venv venv              â†’ kreira virtualno okruÅ¾enje
  2. venv\Scripts\activate            â†’ aktivira ga (Windows)
  3. pip install -r requirements.txt  â†’ instalira pakete
  4. docker compose up -d             â†’ pokreÄ‡e PostgreSQL + Redis u Dockeru
  5. python seed.py                   â†’ ubacuje test korisnika i kategorije
  6. python -m uvicorn src.app:app --reload --port 8000  â†’ pokreÄ‡e server
  7. Otvori http://localhost:8000/docs â†’ Swagger UI za testiranje API-ja

========================================================================
TESTIRANJE AUTH FLOW-a:
========================================================================

  1. POST /api/auth/register â†’ kreiraj nalog (ili koristi seed korisnika)
  2. POST /api/auth/login    â†’ email: test@test.com, password: test123
     â†’ dobijaÅ¡ access_token i refresh_token
  3. Kopiraj access_token i dodaj ga u Swagger "Authorize" dugme:
     Bearer <access_token>
  4. Sad moÅ¾eÅ¡ koristiti sve zaÅ¡tiÄ‡ene endpointe
  5. GET /api/auth/me â†’ proverava ko si
  6. POST /api/auth/refresh â†’ kad access_token istekne (30 min)

========================================================================
TESTIRANJE CATEGORIES + BUDGETS (Faza 4):
========================================================================

  (Prethodno se uloguj i dodaj Bearer token u Swagger)

  CATEGORIES:
  1. GET  /api/categories/          â†’ lista kategorija (seed je napravio 6)
  2. POST /api/categories/          â†’ nova kategorija:
     {"name": "Investicije", "type": "income", "icon": "ğŸ“ˆ"}
  3. GET  /api/categories/?type=expense â†’ samo expense kategorije
  4. PUT  /api/categories/{id}      â†’ izmeni kategoriju
  5. DELETE /api/categories/{id}    â†’ obriÅ¡i kategoriju

  BUDGETS:
  1. POST /api/budgets/             â†’ novi budÅ¾et:
     {"category_id": 3, "amount": 15000, "month": "2026-02-01"}
  2. GET  /api/budgets/             â†’ lista svih budÅ¾eta
  3. GET  /api/budgets/?month=2026-02-01 â†’ budÅ¾eti za februar
  4. GET  /api/budgets/summary?month=2026-02-01
     â†’ pregled: koliko je budÅ¾etirano vs potroÅ¡eno za svaku kategoriju
  5. PUT  /api/budgets/{id}         â†’ izmeni iznos budÅ¾eta
  6. DELETE /api/budgets/{id}       â†’ obriÅ¡i budÅ¾et

========================================================================
TESTIRANJE DASHBOARD (Faza 5):
========================================================================

  (Prethodno se uloguj, dodaj Bearer token, i napravi par transakcija)

  1. GET /api/dashboard/summary
     â†’ ukupni prihodi, rashodi, bilans (svih transakcija)
  2. GET /api/dashboard/summary?date_from=2026-02-01&date_to=2026-02-28
     â†’ samo za februar
  3. GET /api/dashboard/monthly?months=6
     â†’ meseÄni trend za poslednjih 6 meseci
  4. GET /api/dashboard/by-category?type=expense
     â†’ koliko si potroÅ¡io po kategorijama (sa procentima)
  5. GET /api/dashboard/by-category?type=income
     â†’ koliko si zaradio po kategorijama
  6. GET /api/dashboard/recent?limit=5
     â†’ poslednjih 5 transakcija sa imenom kategorije

========================================================================
KOMANDE ZA POKRETANJE I ZAUSTAVLJANJE:
========================================================================

  POKRETANJE (redosled je bitan):
  1. Otvori Docker Desktop              â†’ saÄekaj da se pokrene (zelena ikonica)
  2. cd backend                          â†’ uÄ‘i u backend folder
  3. venv\Scripts\activate               â†’ aktiviraj virtualno okruÅ¾enje
  4. docker compose up -d                â†’ pokreni PostgreSQL + Redis kontejnere
  5. pip install -r requirements.txt     â†’ instaliraj pakete (samo ako ima promena)
  6. python seed.py                      â†’ ubaci test podatke (samo prvi put)
  7. python -m uvicorn src.app:app --reload --port 8000  â†’ pokreni server
  8. Otvori http://localhost:8000/docs   â†’ Swagger UI za testiranje

  ZAUSTAVLJANJE (obrnut redosled):
  1. Ctrl + C                            â†’ zaustavi server (u terminalu gde radi)
  2. docker compose down                 â†’ zaustavi PostgreSQL + Redis kontejnere
  3. deactivate                          â†’ deaktiviraj venv (opciono)

  ÄŒIST RESTART (briÅ¡e sve podatke iz baze):
  1. Ctrl + C                            â†’ zaustavi server
  2. docker compose down -v              â†’ zaustavi kontejnere i obriÅ¡i bazu
  3. docker compose up -d                â†’ ponovo pokreni kontejnere
  4. python seed.py                      â†’ ponovo ubaci test podatke
  5. python -m uvicorn src.app:app --reload --port 8000  â†’ pokreni server

========================================================================
========================================================================
  FRONTEND â€” FAZA 1: Projekat setup + osnovni layout
========================================================================
========================================================================

========================================================================
21. frontend/package.json â€” Zavisnosti (Frontend Faza 1)
========================================================================

  â†’ Kreiran sa: npm create vite@latest frontend -- --template react-ts
  â†’ Glavne zavisnosti:
    - react, react-dom (v19)    â†’ UI framework
    - react-router-dom          â†’ klijentski routing (SPA navigacija)
    - axios                     â†’ HTTP klijent za API pozive
    - recharts                  â†’ grafikoni (bar, line, pie chart)
    - react-hook-form           â†’ upravljanje formama
    - react-hot-toast           â†’ toast notifikacije (uspeh/greÅ¡ka)
    - lucide-react              â†’ SVG ikone
    - date-fns                  â†’ formatiranje datuma
  â†’ Dev zavisnosti:
    - tailwindcss + @tailwindcss/vite â†’ CSS framework
    - typescript                â†’ type safety

========================================================================
22. frontend/vite.config.ts â€” Vite konfiguracija (Frontend Faza 1)
========================================================================

  â†’ Tailwind CSS plugin: automatski procesira Tailwind klase
  â†’ Dev server na portu 3000 (frontend)
  â†’ API proxy: /api/* zahtevi se prosleÄ‘uju na http://localhost:8000 (backend)
    - Ovo znaÄi da u kodu piÅ¡eÅ¡ axios.get("/api/health")
      a Vite to Å¡alje na backend automatski
    - Nema CORS problema u razvoju jer proxy radi kao posrednik

========================================================================
23. frontend/src/lib/utils.ts â€” Helper funkcije (Frontend Faza 1)
========================================================================

  â†’ formatCurrency(amount) â†’ formatira broj u RSD valuti (srpski format)
  â†’ formatDate(date)       â†’ formatira datum na srpskom (dd. MMM yyyy.)
  â†’ formatMonth(date)      â†’ formatira mesec na srpskom (januar 2026.)
  â†’ cn(...classes)          â†’ spaja CSS klase (filtrira false/null/undefined)

========================================================================
24. frontend/src/components/ui/ â€” Reusable komponente (Frontend Faza 1)
========================================================================

  Button.tsx:
  â†’ Univerzalno dugme sa 4 varijante (primary, secondary, danger, ghost)
  â†’ 3 veliÄine (sm, md, lg)
  â†’ Loading spinner (prikazuje se dok se Äeka odgovor sa servera)
  â†’ Automatski disabled dok je loading

  Input.tsx:
  â†’ Input polje sa labelom i error porukom
  â†’ Koristi forwardRef (kompatibilno sa react-hook-form)
  â†’ Vizuelni feedback za greÅ¡ku (crvena granica)

  Select.tsx:
  â†’ Dropdown sa opcijama, labelom i error porukom
  â†’ Ista struktura kao Input (label, error, forwardRef)

  Card.tsx:
  â†’ Kontejner sa belom pozadinom, zaobljenim uglovima i senkom
  â†’ Opcioni naslov (title prop)

  Modal.tsx:
  â†’ Overlay (zatamnjeni pozadinski sloj, klik zatvara modal)
  â†’ Centriran beli prozor sa naslovom i X dugmetom
  â†’ Blokira scroll dok je otvoren

========================================================================
25. frontend/src/layouts/DashboardLayout.tsx â€” Layout (Frontend Faza 1)
========================================================================

  â†’ BoÄni meni (sidebar) sa 4 navigacione stavke:
    - Pregled (/)         â†’ LayoutDashboard ikona
    - Transakcije (/transactions) â†’ ArrowLeftRight ikona
    - Kategorije (/categories)    â†’ Tag ikona
    - BudÅ¾eti (/budgets)          â†’ Wallet ikona
  â†’ "Odjavi se" dugme na dnu sidebar-a
  â†’ Header sa hamburger menijem (na mobilnom)
  â†’ Responsivan: sidebar se sakriva na ekranima < 1024px
  â†’ NavLink: aktivna stavka je obojena indigo bojom
  â†’ <Outlet /> renderuje trenutnu stranicu

========================================================================
26. frontend/src/pages/ â€” Stranice (Frontend Faza 1)
========================================================================

  â†’ DashboardPage.tsx     â†’ placeholder za Fazu 3
  â†’ TransactionsPage.tsx  â†’ placeholder za Fazu 4
  â†’ CategoriesPage.tsx    â†’ placeholder za Fazu 5
  â†’ BudgetsPage.tsx       â†’ placeholder za Fazu 6
  â†’ LoginPage.tsx         â†’ placeholder za Fazu 2
  â†’ RegisterPage.tsx      â†’ placeholder za Fazu 2

========================================================================
27. frontend/src/App.tsx â€” Routing (Frontend Faza 1)
========================================================================

  â†’ BrowserRouter: klijentski routing (URL se menja bez reload-a)
  â†’ Toaster: globalne toast notifikacije (gore desno)
  â†’ Auth rute (/login, /register): bez layout-a (pun ekran)
  â†’ Dashboard rute: omotane u DashboardLayout (sidebar + header)
    - /              â†’ DashboardPage
    - /transactions  â†’ TransactionsPage
    - /categories    â†’ CategoriesPage
    - /budgets       â†’ BudgetsPage

========================================================================
28. backend/src/app.py â€” CORS middleware (Frontend Faza 1)
========================================================================

  â†’ Dodat CORSMiddleware koji dozvoljava zahteve sa http://localhost:3000
  â†’ allow_credentials=True: dozvoljava slanje kolaÄiÄ‡a
  â†’ allow_methods=["*"]: svi HTTP metodi (GET, POST, PUT, DELETE)
  â†’ allow_headers=["*"]: svi header-i (ukljuÄujuÄ‡i Authorization)
  â†’ Ovo je potrebno jer frontend (port 3000) i backend (port 8000)
    su na razliÄitim portovima = "cross-origin" zahtevi

========================================================================
========================================================================
  FRONTEND â€” FAZA 2: Autentifikacija (Login/Register)
========================================================================
========================================================================

========================================================================
29. frontend/src/api/axios.ts â€” Axios instanca (Frontend Faza 2)
========================================================================

  â†’ Kreira axios instancu sa baseURL: "/api"
  â†’ Request interceptor: automatski dodaje Authorization: Bearer <token>
    na svaki zahtev (Äita token iz localStorage)
  â†’ Response interceptor: ako server vrati 401 (Unauthorized):
    1. PokuÅ¡ava da osvezi token preko POST /api/auth/refresh
    2. Ako uspe â†’ saÄuva nove tokene i ponovi originalni zahtev
    3. Ako ne uspe â†’ obriÅ¡e tokene i redirectuje na /login
  â†’ Ne pokuÅ¡ava refresh za /auth/login i /auth/refresh rute (izbegava loop)
  â†’ _retry flag spreÄava beskonaÄno ponavljanje

========================================================================
30. frontend/src/api/auth.ts â€” Auth API pozivi (Frontend Faza 2)
========================================================================

  â†’ TypeScript interfejsi: User, TokenResponse, LoginRequest, RegisterRequest
  â†’ login(data)    â†’ POST /api/auth/login â†’ vraÄ‡a access + refresh token
  â†’ register(data) â†’ POST /api/auth/register â†’ vraÄ‡a kreiranog korisnika
  â†’ getMe()        â†’ GET /api/auth/me â†’ vraÄ‡a podatke o ulogovanom korisniku

========================================================================
31. frontend/src/context/AuthContext.tsx â€” Auth state (Frontend Faza 2)
========================================================================

  â†’ React Context koji drÅ¾i globalni auth state (user, loading)
  â†’ AuthProvider omotava celu aplikaciju
  â†’ useAuth() hook â€” pristup auth stanju iz bilo koje komponente
  â†’ Pri uÄitavanju stranice: proverava da li postoji token u localStorage,
    ako postoji â†’ poziva getMe() da dohvati korisnika
  â†’ login() funkcija: poziva API, Äuva tokene u localStorage, dohvata usera
  â†’ register() funkcija: poziva API (ne loguje automatski)
  â†’ logout() funkcija: briÅ¡e tokene iz localStorage, resetuje user na null

========================================================================
32. frontend/src/components/ProtectedRoute.tsx â€” ZaÅ¡tita ruta (Frontend Faza 2)
========================================================================

  â†’ Wrapper komponenta koja Å¡titi rute od neautorizovanih korisnika
  â†’ Dok se proverava auth status â†’ prikazuje loading spinner
  â†’ Ako korisnik nije ulogovan â†’ redirectuje na /login
  â†’ Ako je ulogovan â†’ renderuje children (stranica koju korisnik traÅ¾i)

========================================================================
33. frontend/src/pages/LoginPage.tsx â€” Login stranica (Frontend Faza 2)
========================================================================

  â†’ Forma sa email i lozinka poljima (react-hook-form)
  â†’ Validacija: email obavezan + format, lozinka min 6 karaktera
  â†’ Na uspeh: toast "UspeÅ¡na prijava!" + redirect na /
  â†’ Na greÅ¡ku: toast sa error porukom sa servera
  â†’ Loading state: dugme prikazuje spinner dok Äeka odgovor
  â†’ Ako je korisnik veÄ‡ ulogovan â†’ automatski redirect na /
  â†’ Link ka /register stranici

========================================================================
34. frontend/src/pages/RegisterPage.tsx â€” Registracija (Frontend Faza 2)
========================================================================

  â†’ Forma: ime (opciono), email, lozinka, potvrda lozinke
  â†’ Validacija: email format, lozinka min 6, potvrda mora da se poklapa
  â†’ Na uspeh: toast + redirect na /login (korisnik se ruÄno prijavljuje)
  â†’ Na greÅ¡ku: toast sa error porukom (npr. "Email veÄ‡ postoji")
  â†’ Ako je korisnik veÄ‡ ulogovan â†’ automatski redirect na /

========================================================================
35. frontend/src/App.tsx â€” AÅ¾uriran routing (Frontend Faza 2)
========================================================================

  â†’ AuthProvider omotava sve rute (globalni auth state)
  â†’ Javne rute: /login, /register (bez zaÅ¡tite)
  â†’ ZaÅ¡tiÄ‡ene rute: /, /transactions, /categories, /budgets
    â†’ Omotane u ProtectedRoute â†’ redirect na /login ako nema tokena
  â†’ DashboardLayout se renderuje samo za ulogovane korisnike

========================================================================
36. frontend/src/layouts/DashboardLayout.tsx â€” AÅ¾uriran (Frontend Faza 2)
========================================================================

  â†’ Header prikazuje ime ili email ulogovanog korisnika
  â†’ "Odjavi se" dugme poziva logout() i redirectuje na /login

========================================================================
========================================================================
  FRONTEND â€” FAZA 3: Dashboard (grafikoni i statistike)
========================================================================
========================================================================

========================================================================
37. frontend/src/api/dashboard.ts â€” Dashboard API (Frontend Faza 3)
========================================================================

  â†’ TypeScript interfejsi za sve dashboard odgovore:
    - SummaryResponse: ukupni prihodi, rashodi, bilans, broj transakcija
    - MonthlyItem / MonthlyResponse: meseÄni trend podaci
    - CategorySpending / ByCategoryResponse: rashodi po kategorijama
    - RecentTransaction: poslednje transakcije sa imenom kategorije
  â†’ getSummary()     â†’ GET /api/dashboard/summary
  â†’ getMonthly()     â†’ GET /api/dashboard/monthly?months=6
  â†’ getByCategory()  â†’ GET /api/dashboard/by-category?type=expense
  â†’ getRecent()      â†’ GET /api/dashboard/recent?limit=8

========================================================================
38. frontend/src/hooks/useDashboard.ts â€” Custom hook (Frontend Faza 3)
========================================================================

  â†’ Jedan hook koji poziva sva 4 dashboard endpoint-a paralelno (Promise.all)
  â†’ DrÅ¾i state: summary, monthly, byCategory, grandTotal, recent, loading, error
  â†’ reload() funkcija za osveÅ¾avanje podataka
  â†’ Koristi useEffect da automatski uÄita podatke pri montiranju komponente

========================================================================
39. frontend/src/components/dashboard/SummaryCards.tsx (Frontend Faza 3)
========================================================================

  â†’ 4 kartice u grid-u (responsive: 1 â†’ 2 â†’ 4 kolone)
  â†’ Ukupni prihodi: zelena ikona TrendingUp
  â†’ Ukupni rashodi: crvena ikona TrendingDown
  â†’ Bilans: indigo/crvena boja zavisno od pozitivnog/negativnog bilansa
  â†’ Broj transakcija: siva ikona ArrowLeftRight
  â†’ Koristi formatCurrency() za RSD format

========================================================================
40. frontend/src/components/dashboard/MonthlyChart.tsx (Frontend Faza 3)
========================================================================

  â†’ Grupovani bar chart sa Recharts bibliotekom
  â†’ X osa: skraÄ‡eni nazivi meseci na srpskom (Jan, Feb, Mar...)
  â†’ Y osa: vrednosti u hiljadama (10k, 20k...)
  â†’ 2 bĞ°Ñ€Ğ°: Prihodi (indigo) i Rashodi (crvena)
  â†’ Tooltip prikazuje taÄne iznose u RSD
  â†’ ResponsiveContainer: automatski se prilagoÄ‘ava Å¡irini ekrana

========================================================================
41. frontend/src/components/dashboard/CategoryPieChart.tsx (Frontend Faza 3)
========================================================================

  â†’ Donut chart (pie sa innerRadius) sa Recharts bibliotekom
  â†’ Toggle dugme Rashodi/Prihodi (UI spreman, logika u Fazi 6)
  â†’ 8 razliÄitih boja za kategorije (rotira se ako ih ima viÅ¡e)
  â†’ Tooltip sa RSD iznosom
  â†’ Prikazuje ukupan iznos ispod grafikona
  â†’ Empty state ako nema podataka

========================================================================
42. frontend/src/components/dashboard/RecentTransactions.tsx (Frontend Faza 3)
========================================================================

  â†’ Lista poslednjih 8 transakcija
  â†’ Svaka stavka: ikona (zelena strelica gore za prihod, crvena dole za rashod)
  â†’ Prikazuje: ime kategorije sa emoji ikonom, opis/datum, iznos
  â†’ Iznos: zeleni sa "+" za prihode, crveni sa "-" za rashode
  â†’ Empty state ako nema transakcija

========================================================================
43. frontend/src/pages/DashboardPage.tsx â€” AÅ¾uriran (Frontend Faza 3)
========================================================================

  â†’ Koristi useDashboard hook za dohvatanje svih podataka
  â†’ Loading spinner dok se podaci uÄitavaju
  â†’ Error poruka ako API poziv ne uspe
  â†’ Layout: summary kartice gore, 2 grafikona u sredini, transakcije dole
  â†’ Grid: na manjim ekranima 1 kolona, na xl 2 kolone za grafikone

========================================================================
========================================================================
  FRONTEND â€” FAZA 4: Transakcije (CRUD)
========================================================================
========================================================================

========================================================================
44. frontend/src/api/transactions.ts â€” Transakcije API (Frontend Faza 4)
========================================================================

  â†’ TypeScript interfejsi: Transaction, TransactionCreate, TransactionUpdate, TransactionFilters
  â†’ getTransactions(filters) â†’ GET /api/transactions/ (sa filterima)
    - Filtrira prazne vrednosti pre slanja na server
  â†’ createTransaction(data) â†’ POST /api/transactions/
  â†’ updateTransaction(id, data) â†’ PUT /api/transactions/{id}
  â†’ deleteTransaction(id) â†’ DELETE /api/transactions/{id}

========================================================================
45. frontend/src/api/categories.ts â€” Kategorije API (Frontend Faza 4)
========================================================================

  â†’ TypeScript interfejsi: Category, CategoryCreate, CategoryUpdate
  â†’ getCategories(type?) â†’ GET /api/categories/ (opcioni filter po tipu)
  â†’ createCategory, updateCategory, deleteCategory
  â†’ Ovaj fajl se koristi u Fazi 4 (transakcije), 5 (kategorije) i 6 (budzeti)

========================================================================
46. frontend/src/components/transactions/TransactionFilters.tsx (Faza 4)
========================================================================

  â†’ Filter traka sa 4 kontrole: tip, kategorija, datum od, datum do
  â†’ "Resetuj" dugme vraca filtere na podrazumevane vrednosti
  â†’ Svaka promena filtera automatski osvezava listu transakcija
  â†’ Dropdown za kategorije prikazuje emoji ikonu i naziv

========================================================================
47. frontend/src/components/transactions/TransactionForm.tsx (Faza 4)
========================================================================

  â†’ Modal forma za kreiranje i izmenu transakcije
  â†’ Tip: radio dugmad (Rashod/Prihod) sa bojama (crvena/zelena)
  â†’ Kategorija dropdown: filtrira se po izabranom tipu
    (ako izaberes "Prihod", vidis samo income kategorije)
  â†’ Polja: iznos, kategorija, datum, opis (opciono)
  â†’ Pri otvaranju za izmenu: forma se popunjava postojecim podacima
  â†’ useEffect resetuje formu svaki put kad se modal otvori

========================================================================
48. frontend/src/components/transactions/DeleteConfirmModal.tsx (Faza 4)
========================================================================

  â†’ Jednostavan modal za potvrdu brisanja
  â†’ Dugmad: "Otkazi" (siva) i "Obrisi" (crvena)
  â†’ Loading state na "Obrisi" dugmetu dok se ceka odgovor

========================================================================
49. frontend/src/components/transactions/TransactionTable.tsx (Faza 4)
========================================================================

  â†’ Tabela sa kolonama: Datum, Kategorija, Opis, Tip, Iznos, Akcije
  â†’ Opis i kategorija su skriveni na malim ekranima (responsive)
  â†’ Tip prikazan kao badge (zeleni za prihod, crveni za rashod)
  â†’ Iznos: zeleni sa "+" za prihode, crveni sa "-" za rashode
  â†’ Dugmad za izmenu (olovka) i brisanje (kanta) na svakom redu
  â†’ Empty state ako nema transakcija

========================================================================
50. frontend/src/pages/TransactionsPage.tsx â€” Azuriran (Frontend Faza 4)
========================================================================

  â†’ Kompletna CRUD stranica za transakcije
  â†’ State: transactions, categories, filters, loading, formOpen, editTx, deleteTx
  â†’ useCallback za loadTransactions (poziva se kad se filters promene)
  â†’ handleCreate: kreira transakciju, zatvara modal, osvezava listu
  â†’ handleEdit: azurira transakciju, zatvara modal, osvezava listu
  â†’ handleDelete: brise transakciju, zatvara modal, osvezava listu
  â†’ Toast notifikacije za uspeh i greske
  â†’ "Nova transakcija" dugme gore desno

========================================================================
51. backend/seed.py â€” Azuriran (Frontend Faza 4)
========================================================================

  â†’ Dodate 16 test transakcija za poslednja 3 meseca
  â†’ Mesecna plata, freelance prihodi, stanarina, hrana, transport, zabava
  â†’ Korisno za testiranje dashboard grafikona i filtera

========================================================================
========================================================================
  FRONTEND â€” FAZA 5: Kategorije (CRUD)
========================================================================
========================================================================

========================================================================
52. frontend/src/components/categories/CategoryForm.tsx (Frontend Faza 5)
========================================================================

  â†’ Modal forma za kreiranje i izmenu kategorije
  â†’ Tip: radio dugmad (Rashod/Prihod) sa bojama (crvena/zelena)
  â†’ Naziv: tekst input sa obaveznom validacijom
  â†’ Ikona: dve opcije:
    - Brzi izbor: 20 unapred ponudenih emoji ikonice (klik selektuje)
    - Slobodan unos: tekst polje za bilo koji emoji ili tekst
  â†’ Selektovana ikona ima indigo border (vizuelni feedback)
  â†’ useEffect resetuje formu svaki put kad se modal otvori
  â†’ Pri izmeni: popunjava se sa postojecim podacima kategorije

========================================================================
53. frontend/src/components/categories/CategoryCard.tsx (Frontend Faza 5)
========================================================================

  â†’ Kartica koja prikazuje jednu kategoriju
  â†’ Levo: emoji ikona u obojenoj pozadini (zelena za prihod, crvena za rashod)
  â†’ Sredina: naziv kategorije + tip badge (Prihod/Rashod)
  â†’ Desno: dugme za izmenu (olovka, hover indigo) i brisanje (kanta, hover crvena)
  â†’ Hover efekat na celoj kartici (border postaje tamniji)
  â†’ Ako kategorija nema ikonu prikazuje se podrazumevano "ğŸ“‚"

========================================================================
54. frontend/src/pages/CategoriesPage.tsx â€” Azuriran (Frontend Faza 5)
========================================================================

  â†’ Kompletna CRUD stranica za kategorije
  â†’ Podeljena u 2 sekcije (grid, 2 kolone na vecim ekranima):
    - Prihodi (zeleni naslov + broj kategorija)
    - Rashodi (crveni naslov + broj kategorija)
  â†’ "Nova kategorija" dugme gore desno
  â†’ Empty state za svaku sekciju ako nema kategorija
  â†’ State: categories, loading, formOpen, editCat, deleteCat, saving, deleting
  â†’ handleCreate: kreira kategoriju, zatvara modal, osvezava listu
  â†’ handleEdit: azurira kategoriju, zatvara modal, osvezava listu
  â†’ handleDelete: brise kategoriju uz toast notifikaciju
    - Napomena: kategorija se NE MOZE obrisati ako ima transakcije
      (backend baca gresku zbog foreign key constrainta)
      poruka upozorenja je prikazana u modal-u za brisanje
  â†’ Modal za brisanje (inline, ne koristi DeleteConfirmModal komponentu)
    sadrzi naziv kategorije i upozorenje o transakcijama

========================================================================
========================================================================
  FRONTEND â€” FAZA 6: BudÅ¾eti (CRUD + progress barovi)
========================================================================
========================================================================

========================================================================
55. frontend/src/api/budgets.ts â€” BudÅ¾eti API (Frontend Faza 6)
========================================================================

  â†’ TypeScript interfejsi: Budget, BudgetCreate, BudgetUpdate, BudgetSummaryItem
  â†’ getBudgets(month?) â†’ GET /api/budgets/ (opcioni filter po mesecu)
  â†’ getBudgetSummary(month) â†’ GET /api/budgets/summary?month=...
    - Ovo je NAJVAÅ½NIJI endpoint â€” vraÄ‡a budgeted, spent, remaining za svaku kat.
  â†’ createBudget(data) â†’ POST /api/budgets/
  â†’ updateBudget(id, data) â†’ PUT /api/budgets/{id}
  â†’ deleteBudget(id) â†’ DELETE /api/budgets/{id}

========================================================================
56. frontend/src/components/budgets/BudgetForm.tsx (Frontend Faza 6)
========================================================================

  â†’ Modal forma za kreiranje i izmenu budÅ¾eta
  â†’ Dropdown za kategoriju: prikazuje samo EXPENSE kategorije
    - Pri kreiranju: filtrira kategorije koje vec imaju budzet za taj mesec
    - Pri izmeni: dropdown je disabled (ne moze se promeniti kategorija)
  â†’ Input za planirani iznos (RSD, tip number, min 1)
  â†’ Automatski koristi trenutni mesec (prosledjen kao prop)
  â†’ useEffect resetuje formu pri otvaranju modala

========================================================================
57. frontend/src/components/budgets/BudgetCard.tsx (Frontend Faza 6)
========================================================================

  â†’ Kartica sa progress barom za jedan budzet
  â†’ Prikazuje: naziv kategorije, potroseno / od ukupnog, procenat
  â†’ Progress bar sa 3 boje:
    - Zelena (< 70%) â†’ sve u redu
    - Å½uta (70-89%) â†’ blizu limita
    - Crvena (>= 90%) â†’ kritiÄno
  â†’ Ako je potroÅ¡nja VEÄ†A od budÅ¾eta â†’ prikazuje "PrekoraÄenje: XXX RSD"
  â†’ Ako je manja â†’ prikazuje "Preostalo: XXX RSD" (zelena boja)
  â†’ Dugmad za izmenu (olovka) i brisanje (kanta)

========================================================================
58. frontend/src/pages/BudgetsPage.tsx â€” AÅ¾uriran (Frontend Faza 6)
========================================================================

  â†’ Kompletna CRUD stranica za budÅ¾ete sa meseÄnom navigacijom
  â†’ Navigacija meseca: strelice levo/desno menjaju mesec
    - Format: "Februar 2026" (srpski nazivi meseci)
  â†’ Koristi /api/budgets/summary za prikaz (budgeted vs spent vs remaining)
  â†’ Ukupna statistika na vrhu:
    - Ukupan progress bar (indigo/Å¾uta/crvena boja)
    - Ukupno potroÅ¡eno od ukupno budÅ¾etirano
    - Preostalo ili prekoraÄenje
  â†’ Grid sa BudgetCard karticama (1 / 2 / 3 kolone zavisno od ekrana)
  â†’ Empty state: "Nema budÅ¾eta za ovaj mesec" sa uputstvom
  â†’ CRUD: kreiranje, izmena (samo iznos), brisanje sa potvrdom
  â†’ Promise.all za paralelno ucitavanje summary + categories

========================================================================
========================================================================
  FRONTEND â€” FAZA 7: Polish + UX poboljÅ¡anja
========================================================================
========================================================================

========================================================================
59. frontend/src/components/ui/Skeleton.tsx (Frontend Faza 7)
========================================================================

  â†’ Reusable skeleton komponenta za loading state
  â†’ Koristi animate-pulse Tailwind animaciju
  â†’ Prima className za prilagodenu visinu/sirinu

========================================================================
60. frontend/src/components/dashboard/DashboardSkeleton.tsx (Faza 7)
========================================================================

  â†’ Skeleton placeholder za celu dashboard stranicu
  â†’ Imitira raspored: 4 summary kartice, 2 grafikona, lista transakcija
  â†’ Prikazuje se umesto spinnera dok se podaci ucitavaju
  â†’ Mnogo bolji UX jer korisnik vidi obris stranice pre ucitavanja

========================================================================
61. frontend/src/components/ErrorBoundary.tsx (Frontend Faza 7)
========================================================================

  â†’ React Error Boundary (class komponenta â€” jedini nacin u React-u)
  â†’ Hvata JavaScript greske u bilo kojoj child komponenti
  â†’ Umesto belog ekrana prikazuje:
    - Ikona upozorenja
    - Poruka: "NeÅ¡to je poÅ¡lo naopako"
    - Dugme "OsveÅ¾i stranicu" (reload)
  â†’ Loguje gresku u konzolu (console.error)
  â†’ Omotava sve rute u App.tsx

========================================================================
62. frontend/src/hooks/usePageTitle.ts (Frontend Faza 7)
========================================================================

  â†’ Custom hook koji menja document.title (tab naslov u browseru)
  â†’ Format: "Pregled â€” FinTracker", "Transakcije â€” FinTracker", itd.
  â†’ Dodat na sve stranice: Dashboard, Transakcije, Kategorije, Budzeti

========================================================================
63. frontend/src/components/transactions/TransactionTable.tsx â€” Azuriran
========================================================================

  â†’ Dodat responsive prikaz:
    - Desktop (md+): tabela sa svim kolonama
    - Mobilni (< md): kartice umesto tabele
  â†’ Mobilna kartica prikazuje:
    - Kategorija + iznos u prvom redu
    - Datum, opis, i akcije u drugom redu
  â†’ Dugmad za edit/delete su dostupna i na mobilnom

========================================================================
64. frontend/src/components/dashboard/CategoryPieChart.tsx â€” Azuriran
========================================================================

  â†’ Toggle Rashodi/Prihodi sad RADI:
    - Rashodi: koriste podatke iz inicijalnog ucitavanja (bez novog API poziva)
    - Prihodi: poziva GET /api/dashboard/by-category?type=income
  â†’ Spinner dok se podaci ucitavaju pri prebacivanju
  â†’ Ukupan iznos se menja zavisno od tipa

========================================================================
POKRETANJE CELE APLIKACIJE (Backend + Frontend):
========================================================================

  Sve komande se pokreÄ‡u iz ROOT foldera (FinTrackerApp/).
  Definisane su u package.json na root nivou.

  KORAK 1 â€” Pokreni Docker Desktop:
    â†’ Otvori Docker Desktop i saÄekaj da se pokrene (zelena ikonica)

  KORAK 2 â€” Pokreni Docker kontejnere (PostgreSQL + Redis):
    npm run docker

  KORAK 3 â€” Pokreni Backend (Terminal 1):
    npm run backend
    â†’ Backend radi na http://localhost:8000
    â†’ Swagger UI: http://localhost:8000/docs

  KORAK 4 â€” Pokreni Frontend (Terminal 2 â€” novi terminal!):
    npm run frontend
    â†’ Frontend radi na http://localhost:3000

  OSTALE KOMANDE:
    npm run seed                  â†’ ubaci test podatke u bazu (samo prvi put)
    npm run docker:down           â†’ zaustavi PostgreSQL + Redis kontejnere

  NAPOMENA: TrebaÅ¡ DVA terminala otvorena istovremeno!
    - Terminal 1: npm run backend  (port 8000)
    - Terminal 2: npm run frontend (port 3000)

========================================================================
ZAUSTAVLJANJE CELE APLIKACIJE:
========================================================================

  Terminal 2 (frontend):
    â†’ Ctrl + C                    â†’ zaustavi frontend dev server

  Terminal 1 (backend):
    â†’ Ctrl + C                    â†’ zaustavi backend server
    â†’ npm run docker:down         â†’ zaustavi PostgreSQL + Redis

========================================================================
ÄŒIST RESTART (briÅ¡e sve podatke iz baze):
========================================================================

  Terminal 1 (backend):
    â†’ Ctrl + C
    â†’ docker compose -f backend/docker-compose.yml down -v
    â†’ npm run docker
    â†’ npm run seed
    â†’ npm run backend

  Terminal 2 (frontend):
    â†’ npm run frontend
